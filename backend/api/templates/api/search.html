{% extends "api/layout_v2.html" %}
{% load static %}
<!-- Script -->
{% block script %}
       <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
       <script src="{% static 'api/search_bar.js' %}"></script>
       <script src="{% static 'api/search.js' %}"></script>
{% endblock script %}
<!-- Body -->
{% block nav_bar %}
       <form method="get"
             id="stock_search_form"
             action="{% url 'search_daily' %}"
             novalidate>
              <div class="d-flex flex-row position-relative">
                     <input type="text"
                            name="ticker"
                            id="ticker_input"
                            class="form-control"
                            placeholder="Ticker Symbol"
                            required>
                     <div id="stock_input_tooltips" class="invalid-tooltip">Please provide a ticker symbol</div>
                     <button type="submit" id="search_button" class="btn fw-bold">Search</button>
              </div>
       </form>
{% endblock nav_bar %}
{% block body %}
       <!-- Stock chart div========================================================= -->
       <div id="under_nav_area" class="container-fluid row">
              {% if ticker %}
                     <h2 id="err_message" hidden></h2>
                     <div id="company_info_div" class="col-3">
                            <h2 id="ticker_name">{{ ticker }}</h2>
                     </div>
                     <div id="right_side_area" class="col">
                            <div id="stock_chart_div" class="row" hidden>
                                   <!--5D, 1M, 3M, 6M, YTD, 1Y, 5Y, Max-->
                                   <div class="btn-group"
                                        role="group"
                                        aria-label="Time Range Selection Buttons">
                                          <input type="radio"
                                                 class="btn-check"
                                                 name="btnradio"
                                                 id="5D_button"
                                                 onclick="generateChartAndTable()"
                                                 checked>
                                          <label class="btn btn-outline-primary" for="5D_button">5D</label>
                                          <input type="radio"
                                                 class="btn-check"
                                                 name="btnradio"
                                                 id="1M_button"
                                                 onclick="generateChartAndTable()">
                                          <label class="btn btn-outline-primary" for="1M_button">1M</label>
                                          <input type="radio"
                                                 class="btn-check"
                                                 name="btnradio"
                                                 id="3M_button"
                                                 onclick="generateChartAndTable()">
                                          <label class="btn btn-outline-primary" for="3M_button">3M</label>
                                          <input type="radio"
                                                 class="btn-check"
                                                 name="btnradio"
                                                 id="6M_button"
                                                 onclick="generateChartAndTable()">
                                          <label class="btn btn-outline-primary" for="6M_button">6M</label>
                                          <input type="radio"
                                                 class="btn-check"
                                                 name="btnradio"
                                                 id="YTD_button"
                                                 onclick="generateChartAndTable()">
                                          <label class="btn btn-outline-primary" for="YTD_button">YTD</label>
                                          <input type="radio"
                                                 class="btn-check"
                                                 name="btnradio"
                                                 id="1Y_button"
                                                 onclick="generateChartAndTable()">
                                          <label class="btn btn-outline-primary" for="1Y_button">1Y</label>
                                          <input type="radio"
                                                 class="btn-check"
                                                 name="btnradio"
                                                 id="5Y_button"
                                                 onclick="generateChartAndTable()">
                                          <label class="btn btn-outline-primary" for="5Y_button">5Y</label>
                                          <input type="radio"
                                                 class="btn-check"
                                                 name="btnradio"
                                                 id="Max_button"
                                                 onclick="generateChartAndTable()">
                                          <label class="btn btn-outline-primary" for="Max_button">Max</label>
                                   </div>
                                   <canvas id="stock_chart"></canvas>
                            </div>
                            <div id="stock_info_box" class="row" hidden>
                                   <div id="stock_info_header"></div>
                                   <div id="stock_info_table"></div>
                            </div>
                     </div>
              {% else %}
                     <h3>Looks like you did not look up a ticker symbol to get here</h3>
              {% endif %}
       </div>
       <!--========================================================================= -->
{% endblock body %}
